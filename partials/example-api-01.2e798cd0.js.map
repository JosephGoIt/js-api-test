{"mappings":"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","sources":["src/js/example-api-01.js"],"sourcesContent":["const BASE_URL = \"https://65f2d1ae105614e6549efd32.mockapi.io/todos\";\nconst addBtnEl = document.getElementById(\"addBtn\");\nconst myUL = document.getElementById(\"myUL\");\nconst myInput = document.getElementById(\"myInput\");\n\n// Function to fetch all todos\nconst getTodos = async () => {\n    try {\n        const response = await fetch(BASE_URL);\n        if (!response.ok) {\n            throw new Error('Failed to fetch todos');\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(error);\n    }\n};\n\n// Function to add a todo\nconst addTodo = async (newTodo) => {\n    try {\n        const response = await fetch(BASE_URL, {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(newTodo),\n        });\n        if (!response.ok) {\n            throw new Error('Failed to add todo');\n        }\n    } catch (error) {\n        console.error(error);\n    }\n};\n\n// Function to delete a todo\nconst deleteTodo = async (todoId) => {\n    try {\n        const response = await fetch(`${BASE_URL}/${todoId}`, {\n            method: \"DELETE\"\n        });\n        if (!response.ok) {\n            throw new Error('Failed to delete todo');\n        }\n    } catch (error) {\n        console.error(error);\n    }\n};\n\n// Function to update a todo\nconst updateTodo = async (todoId, updatedTodo) => {\n    try {\n        const response = await fetch(`${BASE_URL}/${todoId}`, {\n            method: \"PUT\",\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(updatedTodo),\n        });\n        if (!response.ok) {\n            throw new Error('Failed to update todo');\n        }\n    } catch (error) {\n        console.error(error);\n    }\n};\n\n// Function to create a list item\nfunction createLI(text, isDone, id) {\n    const li = document.createElement(\"li\");\n    li.id = id; //assigning li's id same as todo's id\n    myUL.appendChild(li);\n    addUpdateCheckbox(li, text, isDone);\n    addText(li , text);\n    addCloseBtn(li);\n}\n\n// Function to fill the todo list\nasync function fillTodoList() {\n    const todos = await getTodos();\n    console.log(todos);\n    alert(\"test\");\n    if (todos) {\n        todos.forEach(({ text, isDone, id }) => createLI(text, isDone, id));\n    }\n}\n\n// Event listener for DOMContentLoaded\nwindow.addEventListener('DOMContentLoaded', fillTodoList);\n\n// Function to add close button\nfunction addCloseBtn(li) {\n    const span = document.createElement(\"span\");\n    const txt = document.createTextNode(\"delete\");\n    span.className = \"close\";\n    span.appendChild(txt);\n    li.appendChild(span);\n\n    // Event listener for close button click... meron nga palang event delegation\n    // span.addEventListener('click', () => {\n    //     const liId = getLiId(span);\n    //     console.log(\"LI ID:\", liId);\n    //     // Perform further actions with the liId if needed\n    // });\n}\n\n// Function to get the id of the corresponding li element when its close button is clicked\nfunction getLiId(span) {\n    const li = span.parentNode;\n    return li.id; // Assuming the id of li element is set as todo's id\n}\n\n// Function to add update checkbox\nfunction addUpdateCheckbox(li, text, isDone) {\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    checkbox.className = \"update\";\n    checkbox.checked = isDone;\n    li.appendChild(checkbox);\n}\n\n// Function to add text\nfunction addText(li, text) {\n    const span = document.createElement(\"span\");\n    const txt = document.createTextNode(text);\n    span.className = \"text\";\n    span.appendChild(txt);\n    li.appendChild(span);\n}\n\n// Event listener for add button click\naddBtnEl.addEventListener('click', async () => {\n    const todo = myInput.value.trim();\n    if (todo === '') {\n        alert(\"Please enter a todo\");\n        return;\n    }\n    const newTodo = { \"text\": `${todo}`, \"isDone\": false };\n    await addTodo(newTodo); //await for new todo to be added\n    alert(\"test\");\n    // Get the ID of the newly added todo\n    const newTodoId = await getNewTodoId();\n    console.log(\"ID of the new todo:\");\n    \n    createLI(todo, false, newTodoId);\n\n});\n\n// Event listener for close button clicks using event delegation\ndocument.addEventListener('click', async (event) => {\n    const target = event.target;\n    if (target.classList.contains('close')) {\n        // alert(target.parentNode.className)\n        const liId = getLiId(target);\n        // alert(liId);\n        // Perform further actions with the liId if needed\n        await deleteTodo(liId);\n        // Remove the corresponding li element from the DOM\n        target.parentNode.remove();\n    }\n});\n\n// Event listener for checkbox clicks using event delegation\nmyUL.addEventListener('change', async (event) => {\n    const target = event.target;\n    if (target.classList.contains('update')) {\n        const liId = getLiId(target);\n        const isChecked = target.checked;\n        console.log(\"Updating LI with ID:\", liId, \"Is Done:\", isChecked);\n        await updateTodo(liId, { isDone: isChecked });\n    }\n});\n\n// Function to get the ID of the newly added todo\nasync function getNewTodoId() {\n    try {\n        const response = await fetch(BASE_URL);\n        if (!response.ok) {\n            throw new Error('Failed to fetch todos');\n        }\n        const todos = await response.json();\n        // Assuming the new todo has the highest ID\n        console.log(todos);\n        alert(todos);\n        return Math.max(...todos.map(todo => parseInt(todo.id)));\n    } catch (error) {\n        console.error(error);\n    }\n}"],"names":["$e24191c9375da957$var$BASE_URL","$e24191c9375da957$var$addBtnEl","document","getElementById","$e24191c9375da957$var$myUL","$e24191c9375da957$var$myInput","$e24191c9375da957$var$createLI","text","isDone","id","li","createElement","appendChild","checkbox","type","className","checked","$e24191c9375da957$var$addUpdateCheckbox","span","txt","createTextNode","$e24191c9375da957$var$addText","$e24191c9375da957$var$addCloseBtn","$e24191c9375da957$var$getLiId","parentNode","window","addEventListener","async","todos","response","fetch","ok","Error","json","error","console","$e24191c9375da957$var$getTodos","log","alert","forEach","todo","value","trim","newTodo","method","headers","body","JSON","stringify","$e24191c9375da957$var$addTodo","newTodoId","Math","max","map","parseInt","$e24191c9375da957$var$getNewTodoId","event","target","classList","contains","liId","todoId","$e24191c9375da957$var$deleteTodo","remove","isChecked","updatedTodo","$e24191c9375da957$var$updateTodo"],"version":3,"file":"example-api-01.2e798cd0.js.map"}